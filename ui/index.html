<!DOCTYPE html>
<!-- <html style="font-size: 10px; font-size: 0.7vw; font-family: Roboto,Arial,sans-serif;"> -->
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		
		<script src="assets/js/jquery.min.js"></script>
		
		<!-- Loading screen Styles -->
		<link href="assets/style/please-wait.css" rel="stylesheet">
		<link href="assets/style/default.css" rel="stylesheet">
		<link href="assets/style/loading.css" rel="stylesheet">
		
		<!-- Chat Styles -->
		<link rel="stylesheet" type="text/css" href="assets/style/Chat.css">
		<link href="assets/style/Roboto.css" rel="stylesheet">
		
		<!-- Chat Scripts -->
		<script src="assets/js/GM.Chat.js"></script>
		
		<!-- Menu Styles -->
		<link rel="stylesheet" type="text/css" href="assets/style/semantic/semantic.min.css">
		
		<!-- Style Overrides -->
		<style>
		html {
			font-size: 0.7vw !important;
			font-family: Roboto,Arial,sans-serif;
		}
		
		@media screen and (max-width: 1430px) {
			html { 
				font-size: 10px !important;
			}
		}
		
		.ui.striped.table tbody tr:nth-child(2n), .ui.striped.table > tr:nth-child(2n) {
			background-color: rgba(0, 0, 0, 0.2);
		}
		
		.ui.sortable.table thead th:hover {
			background: rgba(255,255,255,0.75);
			color: rgba(0, 0, 0, 0.8);
		}
		
		.ui.input {
			font-size: 0.7vw;
			font-family: Roboto,Arial,sans-serif;
		}
		
		@media screen and (max-width: 1430px) {
			.ui.input { font-size: 10px; }
		}
		
		tr:hover td {
			background-color: rgba(255, 255, 255, 0.08) !important;
		}
		
		.branding {
			position: absolute;
			bottom: 5px;
			right: 5px;
			width: 32px;
		}
		
		.grandmui {
			outline: none;
			height: 100vh;
			width: 100vw;
			border: none;
		}
		
		.ui.table thead tr:first-child > th:last-child {
			border-radius: 0 !important;
		}
		
		.ui.table thead tr:first-child > th:first-child {
			border-radius: 0 !important;
		}
		
		#version {
			display: block;
			position: relative;
			top: -118px;
			left: 240px;
			color: rgba(255, 255, 255, 0.5);
			width: 20px;
		}
		
		.ui.grid>.row>.column {
			margin-top: 2px;
			margin-bottom: 2px;
		}
		
		.settings.input {
			text-align: right;
			background: none;
			color: #fff;
			border: 0;
		}
		
		.setting tr {
			font-family: Roboto,Arial,sans-serif;
			font-size: 0.7vw !important;
			width: 100%;
			color: #fff;
			border: none;
		}
		
		.setting td {
			width: 50%;
			color: #fff;
			padding: 2.5px 10px 2.5px 10px;
			border: none;
			margin: 0;
		}
		
		.setting td>input {
			float: right;
		}
		
		.setting td>select {
			float: right;
		}
		
		@media screen and (max-width: 1430px) {
			.setting tr { 
				font-size: 10px !important;
			}
		}
		
		</style>
		
		<!-- Menu Scripts -->
		<script src="assets/style/semantic/semantic.min.js"></script>
		<script src="assets/js/GM.Menu.js"></script>
		<script src="assets/js/sorttable.js"></script>
	</head>
	<body style="background: none !important;"> 
		<!-- Loading Screen -->
		<div id="GM.Loading">
			<img src="assets/images/background.jpg" class="bg">
			
			<script type="text/javascript" src="assets/js/please-wait.min.js"></script>
			<script type="text/javascript">
				window.loading_screen = window.pleaseWait({
					logo: "assets/images/logo.png",
					<!-- backgroundColor: '#f46d3b', -->
					loadingHtml: "<div class='sk-cube-grid'><div class='sk-cube sk-cube1'></div><div class='sk-cube sk-cube2'></div><div class='sk-cube sk-cube3'></div><div class='sk-cube sk-cube4'></div><div class='sk-cube sk-cube5'></div><div class='sk-cube sk-cube6'></div><div class='sk-cube sk-cube7'></div><div class='sk-cube sk-cube8'></div><div class='sk-cube sk-cube9'></div></div><p  id='loading-message' class='loading-message' style='color: #fff; font-size: 20px;'></p>"
				});
			</script>
		</div>
		
		<!-- Main Menu -->
		<div id="GM.Menu" style="display: none;">
			<!-- Sidemenu -->
			<div class="ui visible inverted left wide vertical sidebar fixed menu" style="background-color: rgba(20, 20, 20, 0.75);">
				<center><img class="ui medium image" src="./assets/images/logo.png"></center>
				<p id="version">1.0.000000</p>
				
				<a id="GMHomeButton" class="active blue item" onclick="DisplayHome(false)">
					<!-- <i class="home icon"></i> -->
					Home
				</a>
				<a id="GMQuickConnectButton" class="blue item" onclick="DisplayQuickConnect(true)">
					<!-- <i class="plug icon"></i> -->
					Quick Connect
				</a>
				<a id="GMServersButton" class="item blue" onclick="DisplayServerList(true)">
					<!-- <i class="server icon"></i> -->
					Servers
				</a>
				<a id="GMOptionsButton" class="item blue" onclick="DisplayOptions(true)">
					<!-- <i class="settings icon"></i> -->
					Settings
				</a>
				<a id="GMOptionsGameButton" class="item" onclick="optionsTab(this, 'o.game')" style="padding-left:3em; display: none;">
					Game Settings
				</a>
				<a id="GMOptionsSettingsButton" class="item active" onclick="optionsTab(this, 'o.settings')" style="padding-left:3em; display: none;">
					Settings
				</a>
				<a id="GMRockstarEditorButton" class="item blue" onclick="RockstarEditor()">
					<!-- <i class="film icon"></i> -->
					Rockstar Editor
				</a>
				<a id="GMQuitButton" class="blue item" onclick="GrandM.Quit()">
					<!-- <i class="power icon"></i> -->
					Quit
				</a>
			</div>

			<!-- Quick Connect Modal -->
			<div class="ui mini modal quickconnect" >
				<i class="close icon"></i>
				<div class="header">
					<i class="plug icon"></i>
					Quick Connect
				</div>
				<div class="content">
					<div class="ui fluid labeled input">
						<div class="ui label">
							Address:
						</div>
						<input id="modal.address" placeholder="127.0.0.1" type="text" onkeyup="GrandM.SetOption('ip', this.value)">
					</div>
					
					<br>
					
					<div class="ui fluid labeled input">
						<div class="ui label">
							Port:
						</div>
						<input id="modal.port" placeholder="2322" type="number" onkeypress="return isNumberKey(event)" onkeyup="GrandM.SetOption('port', parseInt(this.value))">
					</div>
				</div>
				<div class="actions">
					<div class="ui red button" onclick="DisplayQuickConnect(false)">Back</div>
					<div class="ui green button" onclick="GrandM.Connect(document.getElementById('modal.address').value, parseInt(document.getElementById('modal.port').value))">Connect</div>
				</div>
			</div>
			
			
			<!-- Connection Modal -->
			<div class="ui tiny modal connection" >
				<i class="close icon"></i>
				<div id="connectionerror.title" class="header">
					<i class="server icon"></i>
					Connection Closed
				</div>
				<div class="content">
					<p id="connectionerror.text">Connection lost: Server timmedout.</p>
				</div>
				<div class="actions">
					<div class="ui red button" onclick="DisplayConnectionError(false)">Close</div>
					<div class="ui green button" onclick="DisplayConnectionError(false); GrandM.Retry();">Retry</div>
				</div>
			</div>

			<!-- Home -->
			<div id="GMHome" class="pusher" style="margin-right: 360px; margin-left: 10px; padding: 10px 10px 19px 10px; height: 100%; background-color: rgba(20, 20, 20, 0.75);">
				<p>Welcome to Grand Multiplayer</p>
			</div>

			<!-- Servers -->
			<div id="GMServers" class="pusher" style="margin-right: 360px; margin-left: 10px; padding: 10px 10px 19px 10px; height: 100%; display: none;">
				<div class="ui stackable four column grid" style="margin:10px 0 0 0; padding: 0; display: table; width: 100%;">
					<div class="column" style="padding: 3px; width: auto;">
						<div class="ui blue button" onclick="RefeshServers()"><i class="left icon refresh"></i>Refresh</div>
					</div>
					<div class="column" style="padding: 3px;">
						<div class="ui labeled input" style="left: 10px">
							<div class="ui blue label link" onclick="serverSearch()">
								Search
							</div>
							<input id="serverSearch" placeholder="search" type="text" onkeyup="serverSearch()">
						</div>
					</div>
					<div class="column" style="padding: 3px; width: 100%; display: table-cell;"></div>
					<div class="column" style="padding: 3px; display: table-cell; width: auto;">
						<div class="ui left floated labeled input" style="float: right;">
							<div class="ui blue label">
								Name
							</div>
							<input id="SLplayerName" placeholder="playername" type="text" onkeyup="GrandM.SetOption('name', this.value)">
						</div>
					</div>
				</div>

				<div class="ui inverted top attached tabular menu" style="background-color: rgba(20, 20, 20, 0.75);">
					<a class="item blue active">
						Servers
					</a>
					<a class="item blue disabled">
						<i class="star icon"></i>
						Favorites
					</a>
					<a id="totals" class="item blue right aligned disabled">
						0 Servers
					</a>
				</div>
				
				<!-- Server List -->
				<div class="ui inverted bottom attached segment" style="padding: 0px; background: none; border: none; border-top-style: solid; border-top-color: #2185d0;">
					<table id="ServerList" class="ui inverted striped table sortable" style="background-color: rgba(20, 20, 20, 0.75);">
						<thead style="display: table; width: 100%;" >
							<tr style="position: relative; color: #fff; background-color: #2185d0;">
								<th id="fav" class="sorttable_nosort" ></th>
								<th id="name" style="width: 54%; color: #fff;">Name</th>
								<th id="gamemode" style="width: 18%; color: #fff;">Gamemode</th>
								<th id="players" style="color: #fff;" class="sorttable_numeric">Players</th>
								<th id="ping" class="right aligned sorttable_nosort" style="color: #fff;">Ping</th>
							</tr>
						</thead>
						<tbody id="gmServerList" style="height: calc(100vh - 230px); display: block; overflow-y: auto;">
						</tbody>
					</table>
					
					<a id="GMConnect" class="ui button right floated blue disabled" onclick='if(selectedRow){GrandM.Connect($(selectedRow).data("ip"), $(selectedRow).data("port"));}'>
						<i class="plug icon"></i>
						Connect
					</a>
				</div>
			</div>
			
			<!-- Options -->
			<div id="GMOptions" class="pusher" 
			style="margin-right: 380px; margin-left: 30px; margin-top: 20px; padding: 10px 0px 19px 0px; height: 100%; display: none; background: none;">
			
				<div class="ui inverted attached segment" style="background-color: rgba(20, 20, 20, 0.75); border: none; border-top-style: solid; border-top-color: #2185d0; border-top-width: 5px;">
					<h3 class="ui centered header blue">Settings</h3>
				</div>
				
				<!-- Profile Settings -->
				<h4 class="ui centered header blue" style="width: 100%; margin-bottom: 0px; padding-bottom: 10px; padding-top: 10px; background-color: rgba(20, 20, 20, 0.75); border-top-style: solid; border-top-color: #2185d0; border-top-width: 5px;">
					Profile
				</h4>
				
				<table class="setting" style="width:100%; background-color: rgba(20, 20, 20, 0.75); margin: 0;">
					<tr>
						<td>Nickname</td>
						<td><input id="o.nickname" class="settings input" placeholder="A Grand Player" type="text" style="text-align: right;"></input></td>
					</tr>
				</table>
				
				<!-- Quick Connect Settings -->
				<h4 class="ui centered header blue" style="width: 100%; margin-bottom: 0px; padding-bottom: 10px; padding-top: 10px; background-color: rgba(20, 20, 20, 0.75); border-top-style: solid; border-top-color: #2185d0; border-top-width: 5px;">
					Quick Connect
				</h4>
				
				<table class="setting" style="width:100%; background-color: rgba(20, 20, 20, 0.75); margin: 0;">
					<tr>
						<td class="settings">IP</td>
						<td><input id="o.address" class="settings input" placeholder="127.0.0.1" type="text" style="text-align: right;"></input></td>
					</tr>
					<tr>
						<td>Port</td>
						<td><input id="o.port" class="settings input" placeholder="2232" type="number" style="text-align: right;" ></input></td>
					</tr>
				</table>
				
				<!-- UI Settings -->
				<h4 class="ui centered header blue" style="width: 100%; margin-bottom: 0px; padding-bottom: 10px; padding-top: 10px; background-color: rgba(20, 20, 20, 0.75); border-top-style: solid; border-top-color: #2185d0; border-top-width: 5px;">
					UI
				</h4>
				
				<table class="setting" style="width:100%; background-color: rgba(20, 20, 20, 0.75); margin: 0;">
					<tr>
						<td>Chat Visible</td>
						<td><input id="o.chatvisible" type="checkbox" checked style="text-align: right;"></input></td>
					</tr>
					<tr>
						<td>Font Size</td>
						<td>
							<select id="o.chatsize">
							   <option value="-5">15</option>
							   <option value="-4">16</option>
							   <option value="-3">17</option>
							   <option value="-2">18</option>
							   <option value="-1">19</option>
							   <option value="0">20</option>
							   <option value="1">21</option>
							   <option value="2">22</option>
							   <option value="3">23</option>
							   <option value="4">24</option>
							   <option value="5">25</option>
							</select>
						</td>
					</tr>
					<tr>
						<td>Max Visible Messages</td>
						<td><input id="o.port" class="settings input" value="10" type="number" min="5" max="50" style="text-align: right;" onkeypress="return isNumberKey(event);" ></input></td>
					</tr>
				</table>
				
				<!-- Game Settings -->
				<h4 class="ui centered header blue" style="width: 100%; margin-bottom: 0px; padding-bottom: 10px; padding-top: 10px; background-color: rgba(20, 20, 20, 0.75); border-top-style: solid; border-top-color: #2185d0; border-top-width: 5px;">
					Game
				</h4>
				
				<table class="setting" style="width:100%; background-color: rgba(20, 20, 20, 0.75); margin: 0;">
					<tr>
						<td>Editor</td>
						<td><input id="o.editor" type="checkbox" checked style="text-align: right;"></input></td>
					</tr>
				</table>
				
				<!-- Debug Settings -->
				<h4 class="ui centered header blue" style="width: 100%; margin-bottom: 0px; padding-bottom: 10px; padding-top: 10px; background-color: rgba(20, 20, 20, 0.75); border-top-style: solid; border-top-color: #2185d0; border-top-width: 5px;">
					Debug
				</h4>
				
				<table class="setting" style="width:100%; background-color: rgba(20, 20, 20, 0.75); margin: 0;">
					<tr>
						<td>Display Debug UI</td>
						<td><input id="o.debugui" type="checkbox" checked style="text-align: right;"></input></td>
					</tr>
					<tr>
						<td>Enable Debug Logs</td>
						<td><input id="o.debuglogs" type="checkbox" checked style="text-align: right;"></input></td>
					</tr>
				</table>
				
				<div class="ui inverted bottom attached segment" style="margin-top: 20px; padding: 0px; background-color: rgba(20, 20, 20, 0.75); border: none; border-top-style: solid; border-top-color: #2185d0; border-top-width: 5px;">
					<div class="ui inverted vertical segment" style="background: none; margin-left: auto; margin-right: auto; width: 150px;">
						<button class="ui centered primary button" onclick="SaveOptions();">
							Save
						</button>
						<button class="ui centered red button" onclick="GrandM.LoadConfig(); fetchOptions();">
							Discard
						</button>
					</div>
				</div>
			</div>
		</div>
		
		<!-- Chat -->
		<div id="GM.Chat" style="display: none;">
			<img src="assets/images/icon.png" class="branding"/>
			<div id="chat-container">
				<div id="chat-history">
					<ul>
					</ul>
				</div>

				<div id="chat-input">
					<input dir="auto" id="chat-input-message" type="text">
				</div>
			</div>
			<iframe class="grandmui" name="grandm.server.ui" src="about:blank"></iframe> 
		</div>
	</body>
</html>